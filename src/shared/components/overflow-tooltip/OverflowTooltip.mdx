import { Canvas, Meta, Controls, Description } from "@storybook/blocks";
import * as ComponentStories from "./OverflowTooltip.stories";

<Meta of={ComponentStories} />

# OverflowTooltip

Универсальный компонент для отображения тултипа с полным содержимым только при переполнении контейнера.

## Описание

`OverflowTooltip` автоматически определяет, помещается ли содержимое в отведенное пространство, и показывает тултип с полным текстом только при необходимости. Компонент использует умную логику проверки переполнения и не показывает тултип, если весь контент уже виден пользователю.

### Базовое использование

<Canvas of={ComponentStories.Default} />

```tsx
import { OverflowTooltip } from "ics-ui-kit/components/overflow-tooltip";

export const Basic = () => {
	return (
		<OverflowTooltip>
			Очень длинный текст, который не помещается в контейнер и будет отображаться в подсказке при переполнении
		</OverflowTooltip>
	);
};
```

## Когда использовать

Используйте `OverflowTooltip`, когда содержимое компонента поступает из внешних источников и его длина заранее неизвестна:

- **Данные из базы данных** — названия товаров, описания, комментарии пользователей
- **Пользовательский контент** — имена файлов, заголовки, сообщения
- **Динамические значения** — результаты поиска, переводы текста

**Не используйте**, если содержимое задается статически дизайнером или разработчиком — в таких случаях длину текста можно контролировать заранее.

## Примеры применения

Компонент особенно полезен в следующих UI-элементах:

- **Button** — когда текст кнопки приходит из переводов или пользовательских настроек
- **Badge и Tag** — для отображения тегов и меток переменной длины
- **Dropdown и Select** — пункты меню с названиями из API
- **Модальные окна и формы** — заголовки, формируемые динамически
- **Drawer** — названия разделов и пунктов навигации
- **Карточки** — заголовки и описания товаров или статей

## Рекомендации по компонентам

### Badge & Tag

**Идеально:** Длина компонента не должна превышать `220px`

**При переполнении:**
- Отображать текст в одну строку
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

### Button

**При переполнении:**
- Текст отображается в одну строку
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

### Drawer

**Идеально:** 
- Заголовок — максимум 1 строка
- Подзаголовок — максимум 2 строки

**При переполнении:**
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

### Dropdown

**При переполнении:**
- Текст отображается в одну строку
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

### Form

**Идеально:**
- Заголовок — максимум 3 строки
- Подзаголовок — максимум 3 строки
- Section header:
  - Заголовок — максимум 2 строки
  - Подзаголовок — без ограничений

**При переполнении:**
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

### Select

**При переполнении:**
- Текст отображается в одну строку
- Скрывать избыток за троеточием
- Показывать полный текст в тултипе

## Примеры использования

### Многострочный текст

<Canvas of={ComponentStories.MultipleLines} />

### С кастомным эффектом на примере fade-out

<Canvas of={ComponentStories.WithFadeOut} />

### В составе других компонентов

<Canvas of={ComponentStories.WithComponents} />

## Свойства

<Controls />