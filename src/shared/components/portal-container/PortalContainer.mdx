import { Meta } from "@storybook/blocks";

<Meta title="Components/PortalContainer" />

# PortalContainer

`PortalContainer` - компонент для управления плавающими элементами интерфейса в контексте изолированных стилей. Он гарантирует корректное применение стилей к элементам, отрендеренным через портал.

## Назначение

Компонент предоставляет контейнер по умолчанию для плавающих элементов:

- Modal
- Dropdown
- Select
- Popover
- Drawer
- Tooltip
- Sheet
- AlertDialog

**Важно:** Компонент имеет смысл использовать только при работе с изолированными стилями. Если вы используете обычные стили, этот компонент не нужен.

## Установка

Добавьте `PortalContainer` в корень вашего приложения:

```tsx
import { PortalContainer } from "ics-ui-kit/components/portal-container";

export default function RootLayout({ children }: { children: React.ReactNode }) {
	return (
		<html lang="en">
			<body>
				<PortalContainer />
			</body>
		</html>
	);
}
```

Или в корневой компонент приложения:

```tsx
import { PortalContainer } from "ics-ui-kit/components/portal-container";

function App() {
	return (
		<>
			<div id="root">{/* Ваше приложение */}</div>
			<PortalContainer />
		</>
	);
}
```

## Поведение

После установки все плавающие элементы автоматически будут использовать `PortalContainer` как контейнер по умолчанию, **но только если подключены изолированные стили** (`styles-scoped.css`).

Хук `usePortalContainer` автоматически определяет:

- Подключены ли изолированные стили через CSS-переменную
- Если стили не подключены - возвращает `undefined` (используется обычный портал)
- Если стили подключены - ищет элемент с `data-portal-container`

## Кастомный контейнер

При необходимости можно передать собственный контейнер через проп `portalContainer`:

```tsx
import { Modal, ModalContent } from "ics-ui-kit/components/modal";

function MyModal() {
	const customContainer = document.getElementById("custom-portal");

	return (
		<Modal>
			<ModalContent portalContainer={customContainer}>{/* Контент модального окна */}</ModalContent>
		</Modal>
	);
}
```

## Технические детали

- Компонент имеет уникальный идентификатор `data-portal-container`
- Содержит класс `ui-kit` для поддержки изолированных стилей
- Автоматически находится хуком `usePortalContainer`
