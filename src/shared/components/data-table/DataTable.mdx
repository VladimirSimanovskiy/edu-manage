import { Canvas, Meta, Controls, Description } from "@storybook/blocks";
import * as ComponentStories from "./DataTable.stories";

<Meta of={ComponentStories} />

# DataTable

Для создания интерактивных таблиц с расширенным функционалом (сортировка, фильтрация, пагинация, выбор строк) используется компонент `DataTable`, который построен на основе библиотеки [TanStack Table](https://tanstack.com/table/v8/docs/introduction).

В [shadcn](https://ui.shadcn.com/docs/components/data-table#basic-table) есть подробная инструкция с использованием

## Импорты

Все необходимые зависимости для работы с TanStack Table следует импортировать из `ics-ui-kit/vendors/tanstack/react-table`. Это позволяет:

- **Избежать дублирования зависимостей** — в вашем проекте не будет установлено несколько версий одной библиотеки
- **Гарантировать совместимость** — ui-kit использует проверенную версию библиотеки, которая точно работает с компонентами
- **Упростить обновления** — при обновлении ui-kit вы автоматически получаете актуальную версию TanStack Table
- **Уменьшить размер бандла** — общий размер приложения будет меньше благодаря переиспользованию одной зависимости

В будущем планируется возможность более гибкой настройки через peer dependencies

```tsx
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "ics-ui-kit/components/table/Table";
import {
	ColumnDef,
	ColumnFiltersState,
	flexRender,
	getCoreRowModel,
	getFilteredRowModel,
	getPaginationRowModel,
	getSortedRowModel,
	SortingState,
	useReactTable,
	VisibilityState
} from "ics-ui-kit/vendors/tanstack/react-table";

export const DataTableComponent () =>{
	//...
}
```

## Примеры использования

### Пример базовой DataTable

<Canvas of={ComponentStories.DataTableExample} />

Этот пример демонстрирует стандартную DataTable с:

- Выбором строк через чекбоксы
- Сортировкой по колонкам
- Фильтрацией по email
- Пагинацией
- Действиями через выпадающее меню

### Пример редактируемой DataTable

<Canvas of={ComponentStories.EditableTable} />

Этот пример показывает расширенную DataTable с:

- Редактированием записей через Sheet
- Добавлением новых записей
- Удалением выбранных записей
- Поиском по содержимому
- Индикацией редактирования (иконка карандаша)

### Пример перетаскиваемой DataTable

<Canvas of={ComponentStories.DraggableTableExample} />

Этот пример демонстрирует DataTable с возможностью перетаскивания строк.
