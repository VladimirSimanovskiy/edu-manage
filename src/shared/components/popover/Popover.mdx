import { Meta, Story, Controls, Primary, Canvas } from "@storybook/blocks";
import { Popover, PopoverTrigger, PopoverContent, PopoverAnchor, PopoverTriggerButton } from "./Popover";
import * as PopoverStories from "./Popover.stories";

<Meta of={PopoverStories} />

# Popover

`Popover` - это компонент всплывающего окна, который отображает контент в плавающей панели.

- Основан на [shadcn/ui](https://ui.shadcn.com/docs/components/popover)
- Использует [Radix UI Popover](https://www.radix-ui.com/primitives/docs/components/popover#api-reference)
- Поддерживает различные варианты позиционирования
- Поддерживает навигацию с клавиатуры
- Поддерживает управление фокусом
- Поддерживает скринридеры
- **Рекомендуется использовать `PopoverTriggerButton`** вместо `PopoverTrigger` с обычной кнопкой

[Ссылка на Figma](https://www.figma.com/design/lc2aOtrukFLJQwxxgH3Cgm/UI-kit?node-id=193-1388&p=f&t=Ttk95eHpTKruel44-0).

### Базовое использование

<Canvas of={PopoverStories.Default} />

```tsx
import { Popover, PopoverTrigger, PopoverContent } from "ics-ui-kit/components/popover";
import { Button } from "ics-ui-kit/components/button";

export const Basic = () => {
	return (
		<Popover>
			<PopoverTrigger asChild>
				<Button>Открыть Popover</Button>
			</PopoverTrigger>
			<PopoverContent>
				<div>Содержимое всплывающего окна</div>
			</PopoverContent>
		</Popover>
	);
};
```

### Использование с якорем

`PopoverAnchor` позволяет позиционировать всплывающее окно относительно отдельного элемента, а не триггера.

<Canvas of={PopoverStories.WithAnchor} />

```tsx
import { Popover, PopoverTrigger, PopoverContent, PopoverAnchor } from "ics-ui-kit/components/popover";
import { Button } from "ics-ui-kit/components/button";

export const WithAnchor = () => {
	return (
		<Popover>
			<div className="flex items-center space-x-4">
				<PopoverTrigger asChild>
					<Button>Открыть Popover</Button>
				</PopoverTrigger>
				<PopoverAnchor asChild>
					<div className="h-16 w-16 rounded-md border-2 border-dashed">Якорь</div>
				</PopoverAnchor>
			</div>
			<PopoverContent>
				<div>Содержимое позиционируется относительно якоря</div>
			</PopoverContent>
		</Popover>
	);
};
```

## Структура компонента

- `Popover` - корневой компонент
- `PopoverTrigger` - триггер для открытия всплывающего окна
- `PopoverTriggerButton` - **рекомендуемый готовый триггер** с кнопкой, автоматически получающий состояние поповера и применяющий соответствующие стили
- `PopoverContent` - контент всплывающего окна
- `PopoverAnchor` - якорь для позиционирования

### Свойства

<Canvas of={PopoverStories.Playground} />

<Controls of={PopoverStories.Playground} />

Полный список свойств можно найти в [документации Radix UI](https://www.radix-ui.com/primitives/docs/components/popover#api-reference).
