import { Canvas, Meta, Controls, Description } from "@storybook/blocks";
import * as DropdownStories from "./Dropdown.stories";

<Meta of={DropdownStories} />

# Dropdown

`Dropdown` - это компонент выпадающего меню, который отображает список доступных действий или параметров, когда пользователь взаимодействует с триггером.

### Общая информация

- Компонент основан на [shadcn/ui dropdown-menu](https://ui.shadcn.com/docs/components/dropdown-menu)
- Использует [Radix UI DropdownMenu](https://www.radix-ui.com/primitives/docs/components/dropdown-menu) для базовой функциональности
- Поддержка клавиатуры: полная навигация стрелками, Enter для выбора, Escape для закрытия
- Поддержка ARIA атрибутов и доступности для скринридеров
- Поддерживает controlled и uncontrolled режимы
- Поддерживает checkbox и radio элементы
- Поддерживает вложенные подменю
- Поддерживает группировку элементов и разделители
- **Рекомендуется использовать `DropdownMenuTriggerButton`** вместо `DropdownMenuTrigger` с обычной кнопкой

[Ссылка на Figma](https://www.figma.com/design/lc2aOtrukFLJQwxxgH3Cgm/UI-kit?node-id=17512-17210)

### Базовое использование

<Canvas of={DropdownStories.Default} />

```tsx
import {
	DropdownMenu,
	DropdownMenuTrigger,
	DropdownMenuContent,
	DropdownMenuItem,
	DropdownMenuLabel,
	DropdownMenuSeparator,
	DropdownMenuShortcut,
	DropdownMenuTriggerButton
} from "ics-ui-kit/components/dropdown";
import { User, Settings } from "lucide-react";

export const Basic = () => {
	return (
		<DropdownMenu>
			<DropdownMenuTrigger asChild>
				<Button variant="outline">Open</Button>
			</DropdownMenuTrigger>
			<DropdownMenuContent className="w-56">
				<DropdownMenuLabel>My Account</DropdownMenuLabel>
				<DropdownMenuSeparator />
				<DropdownMenuItem onSelect={() => alert("Profile")}>
					<User className="mr-2 h-4 w-4" />
					<span>Profile</span>
					<DropdownMenuShortcut>⇧⌘P</DropdownMenuShortcut>
				</DropdownMenuItem>
				<DropdownMenuItem onSelect={() => alert("Settings")}>
					<Settings className="mr-2 h-4 w-4" />
					<span>Settings</span>
					<DropdownMenuShortcut>⌘S</DropdownMenuShortcut>
				</DropdownMenuItem>
			</DropdownMenuContent>
		</DropdownMenu>
	);
};
```

## Структура компонента

Компонент состоит из следующих частей:

- `DropdownMenu` - корневой компонент
- `DropdownMenuTrigger` - триггер для открытия меню
- `DropdownMenuTriggerButton` - **рекомендуемый готовый триггер** с кнопкой, автоматически получающий состояние дропдауна и применяющий соответствующие стили
- `DropdownMenuContent` - контейнер для содержимого меню
- `DropdownMenuItem` - элемент меню
- `DropdownMenuLabel` - заголовок группы элементов
- `DropdownMenuSeparator` - разделитель между элементами
- `DropdownMenuShortcut` - отображение горячих клавиш
- `DropdownMenuCheckboxItem` - элемент с checkbox
- `DropdownMenuRadioGroup` и `DropdownMenuRadioItem` - группа и элементы radio
- `DropdownMenuSub`, `DropdownMenuSubTrigger`, `DropdownMenuSubContent` - вложенные подменю
- `DropdownMenuGroup` - группировка элементов

Список свойств в [документации Radix UI](https://www.radix-ui.com/primitives/docs/components/dropdown-menu#api-reference)

### Полный пример

<Canvas of={DropdownStories.FullExample} />

### Инверсная тема

<Canvas of={DropdownStories.FullExampleInverse} />

### Использование с checkbox элементами

<Canvas of={DropdownStories.WithCheckboxItems} />

### Использование с radio группами

<Canvas of={DropdownStories.WithRadioGroup} />

### Использование с подменю

<Canvas of={DropdownStories.WithSubmenus} />

### Группировка элементов

<Canvas of={DropdownStories.WithGroups} />

### Вызов модального окна из дропдауна

<Canvas of={DropdownStories.WithModal} />

### Кастомная настройка отображения

<Canvas of={DropdownStories.WithCustomSubmenus} />

### Кастомный триггер

<Canvas of={DropdownStories.WithCustomTrigger} />
